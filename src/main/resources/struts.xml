<?xml version="1.0" encoding="utf-8"?>
<!-- Struts2 DTD -->
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
	"http://struts.apache.org/dtds/struts-2.1.7.dtd">
<struts>
	<constant name="struts.i18n.encoding" value="utf-8" />
	<constant name="struts.devMode" value="true" />
	<package name="process" extends="json-default">
		<default-action-ref name="index"></default-action-ref>
		
		<!-- Index Action -->
		<action name="index" class="action.IndexAction">
			<result name="success">WEB-INF/view/index.jsp</result>
		</action>

		<!-- Dispatcher Action -->
		<action name="go*" class="action.DispatcherAction" method="{1}">
			<result name="register">WEB-INF/view/register/register.jsp</result>
			<result name="releaseBook">WEB-INF/view/release/releaseBook.jsp</result>
		</action>
		
		<!-- Login, Logout & Register -->
		<action name="login" class="action.userActions.LoginAction">
			<result name="success" type="redirect">index</result>
			<result name="error">WEB-INF/view/error.jsp</result>
		</action>
		<action name="logout" class="action.userActions.LogoutAction">
			<result name="success" type="redirect">index</result>
			<result name="error">WEB-INF/view/error.jsp</result>
		</action>
		<action name="register" class="action.userActions.RegisterAction">
			<result name="success">WEB-INF/view/register/welcome.jsp</result>
			<result name="error">WEB-INF/view/error.jsp</result>
		</action>
		<action name="checkEmail" class="action.userActions.CheckEmailAction">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
		</action>
		<action name="activate" class="action.userActions.ActivateUserAction">
			<result name="success">WEB-INF/view/activate/activateSuccess.jsp</result>
			<result name="error">WEB-INF/view/error.jsp</result>
		</action>

		<!-- Get Districts -->
		<action name="getDistricts" class="action.userActions.GetDistrictsAction">
			<result type="json">
				<param name="root">districts</param>
			</result>
		</action>


		<action name="getBook" class="action.bookAction.GetBookAction">
			<result type="json">
				<param name="root">result</param>
			</result>
		</action>

		<action name="releaseBook" class="action.bookAction.ReleaseBookAction">
			<result name="success">WEB-INF/view/release/releaseSuccess.jsp</result>
			<result name="error">WEB-INF/view/error.jsp</result>
		</action>
		<!-- Manage user -->
		<action name="listUsers" class="action.userActions.AllUsersAction">
			<result name="success">manageUser.jsp</result>
		</action>
		<action name="manageUser" class="action.userActions.ManageUserAction">
			<result name="success">manageUser.jsp</result>
		</action>

		<!-- Manage bookRelease -->
		<action name="listBookReleases" class="action.bookAction.GetBookReleaseByStatusAction">
			<result name="success">/WEB-INF/view/manageBook.jsp</result>
		</action>
		<action name="manageBook" class="action.bookAction.CheckBookAction">
			<result name="success">/WEB-INF/view/manageBook.jsp</result>
		</action>
		<!-- Book Detail -->
		<action name="bookdetails" class="action.bookAction.BookDetailsAction">
			<result name="success">book.jsp</result>
		</action>

		<!-- Release Detail -->
		<action name="releaseDetail" class="action.bookAction.ReleaseDetailAction">
			<result name="success">releaseDetail.jsp</result>
			<result name="error">/WEB-INF/view/error.jsp</result>
		</action>

		<!-- Books in category -->
		<action name="booksInCategory" class="action.bookAction.BooksInCategoryAction">
			<result name="success">WEB-INF/view/booksInCategory.jsp</result>
		</action>
		<action name="getPagedBooks*" class="action.bookAction.GetPagedBooksAction"
			method="{1}">
			<result name="success" type="json">
				<param name="root">resultMap</param>
			</result>
		</action>
		
		<!-- Searching & Recommending -->
		<action name="searchBook" class="action.bookAction.SearchBookAction">
			<result name="success">WEB-INF/view/searchResult.jsp</result>
		</action>
		<action name="recommended" class="action.bookAction.GetRecommendedAction">
			<result name="success">WEB-INF/view/recommendedBooks.jsp</result>
		</action>

		<!-- Release Picture -->
		<action name="releasePicture" class="action.bookAction.ReleasePictureAction">
			<result type="stream">
				<param name="contentType">contentType</param>
				<param name="inputStream">inputStream</param>
				<param name="bufferSize">4096</param>
			</result>
		</action>

    	<!-- Send Book Comment -->
		<action name="sendBookComment" class="action.bookAction.SendBookCommentAction">
		   <result name="success" type="json">
				<param name="root">success</param>
			</result>
		</action>

		<!-- Add Book To Cart -->
		<action name="addBookToCart" class="action.bookAction.AddBookToCartAction">
			<result name="success" type="json">
				<param name="root">success</param>
			</result>
		</action>
		<!-- Borrow Right Now -->
		<action name="borrowNow" class="action.orderAction.CommitOrderAction">
			<result name="success" type="json">
				<param name="root">resultMap</param>
			</result>
		</action>


		<!-- Borrow History -->
		<action name="history" class="action.orderAction.ListHistoryOrderAction">
			<result name="success">borrowHistory.jsp</result>
		</action>
		<action name="borrowDetail" class="action.orderAction.HistoryOrderDetailAction">
			<result name="success">historyDetail.jsp</result>
		</action>
		<action name="score" class="action.orderAction.ScoreOrderDetailAction">
			<result name="success">historyDetail.jsp</result>
		</action>
		<action name="release" class="action.bookAction.ListBookReleaseAction">
			<result name="success">borrowHistory.jsp</result>
		</action>
		<action name="confirm" class="action.orderAction.ConfirmOrderAction">
			<result name="success">historyDetail.jsp</result>
		</action>
		<action name="myReleaseDetail" class="action.orderAction.MyReleaseDetailAction">
			<result name="success">releaseDetail.jsp</result>
			<result name="error">/WEB-INF/view/error.jsp</result>
		</action>
		
    	<!-- User Info -->
		<action name="updateUserInformation" class="action.userActions.UpdateUserInformationAction">
			<result name="success" type="redirect">index</result>
			<result name="error">error.jsp</result>
		</action>
		<action name="GetBeforeUpdateUserInformation" class="action.userActions.GetBeforeUpdateUserInformationAction">
			<result name="success" >updateUserInformation.jsp</result>
			<result name="error">error.jsp</result>
		</action>
		

		<!-- More Release -->
		<action name="moreRelease" class="action.bookAction.MoreReleaseAction">
		   <result>
		     moreRelease.jsp
			</result>
		</action>
		

		<!-- Manage category -->
		<action name="listCates" class="action.categoryAction.ListCategoryAction">
			<result name="success">manageCategory.jsp</result>
		</action>
		<action name="updateCate" class="action.categoryAction.UpdateCategoryAction">
			<result name="success">manageCategory.jsp</result>
		</action>
		<action name="addCate" class="action.categoryAction.AddCategoryAction">
			<result name="success">manageCategory.jsp</result>
		</action>
		
		<action name="GetAvatar" class="action.userActions.GetPictureAction">
		<result type="stream">
			<param name="contentType">contentType</param>
			<param name="inputName">inputStream</param>
			<param name="bufferSize">4096</param>
		</result>
	</action>
        
        <!-- More Release -->
		<action name="checkReleaseDetail" class="action.bookAction.CheckReleaseDetailAction">
		   <result>
		     checkReleaseDetail.jsp
			</result>
		</action>
        
		<!-- <action name="*">
			<result>/{1}.jsp</result>
		</action> -->
	</package>
</struts>
